<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <title>BoltAI Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #fff;
  color: #000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 80vh;
  padding-top: 0;
    }

html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  width: 100%;
  box-sizing: border-box;
}

    .container {
      width: 100%;
      max-width: 400px;
      padding: 0 20px;
      text-align: center;
    }

    h1 {
      font-size: 1rem;
      margin-bottom: 5px;
      font-weight: 700;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 30px;
      font-weight: 400;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }




input:-webkit-autofill {
  box-shadow: 0 0 0 1000px #fff inset !important;
  -webkit-text-fill-color: #000 !important;
  transition: background-color 5000s ease-in-out 0s;
}






    .input-group {
  position: relative;
  width: 100%;
}

/* لكل الحقول (البريد وكلمة المرور) */
input {
  width: 100%;
  padding: 14px 50px 14px 14px; /* padding يمين 50px للمساحة */
  font-size: 1rem;
  border: 1px solid #d4d4d4;
  border-radius: 50px;
  background-color: #fff;
  color: #000;
  outline: none;
  transition: border-color 0.3s ease;
  box-sizing: border-box; /* مهم لحساب العرض + padding بشكل صحيح */
}

input:focus {
  border-color: #3e68ff;
}

/* أخطاء */
input.error {
  border-color: #e53e3e;
}

input.error:focus {
  border-color: #e53e3e;
}

/* الليبل فوق الحقل */
label {
  position: absolute;
  top: -10px;
  left: 15px;
  background-color: #fff;
  padding: 0 5px;
  font-size: 0.8rem;
  color: #b4b4b4;
  font-weight: 400;
  transition: color 0.3s ease;
  pointer-events: none;
}

.input-group input:focus + label {
  color: #3e68ff;
}

.input-group input.error + label {
  color: #e53e3e;
}

/* رسالة الخطأ تحت الحقل */
.error-message {
  color: #e53e3e;
  font-size: 0.8rem;
  margin-top: 5px;
  text-align: left;
  padding-left: 15px;
  min-height: 20px;
}

/* أيقونة العين داخل الحقل */
.password-toggle {
  position: absolute;
  top: 35%;
  right: 15px;
  transform: translateY(-50%);
  cursor: pointer;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #888;
  transition: color 0.3s ease;
  user-select: none;
  z-index: 2;
  -webkit-tap-highlight-color: transparent;  
  display: inline-flex;  
  justify-content: center; 
  align-items: center;  
  text-align: center;  
  text-decoration: none;
}

/* إزالة outline عند التركيز على الأيقونة */
.password-toggle:focus {
  outline: none;
}

/* حجم الأيقونات svg داخل العين */
.password-toggle svg {
  width: 24px;
  height: 24px;
  stroke: currentColor;
  fill: none;
}

    .eye-open .pupil {
      fill: currentColor;
      stroke: none;
    }

    .password-toggle.active {
      color: #3e68ff;
    }

    button {
      padding: 17px;
      font-size: 1rem;
      border: none;
      border-radius: 50px;
      background-color: #000;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-weight: 500;
      position: relative;
    }

    button:disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }

    button.loading::after {
      content: "";
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      width: 16px;
      height: 16px;
      border: 2px solid #fff;
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: translateY(-50%) rotate(360deg);
      }
    }

    button:hover:not(:disabled) {
      background-color: #333;
    }

    .link {
      margin-top: 20px;
      font-size: 0.9rem;
      text-align: center;
      color: #000;
      font-weight: 400;
    }

    .link a {
      color: #4da6ff;
      text-decoration: none;
      margin-left: 5px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>BoltAI</h1>
    <h2>Welcome back</h2>

    <form id="loginForm">
      <div class="input-group">
        <input type="email" id="email" required />
        <label for="email">Email address</label>
        <div id="emailError" class="error-message"></div>
      </div>

      <div class="input-group">
        <input type="password" id="password" required />
        <label for="password">Password</label>
        <span
          class="password-toggle"
          id="togglePassword"
          tabindex="0"
          role="button"
          aria-label="Show or hide password"
          title="Show/Hide Password"
        >
          <svg class="eye-open" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
            <ellipse cx="32" cy="32" rx="30" ry="20" />
            <circle class="pupil" cx="32" cy="32" r="12" />
          </svg>

          <svg
            class="eye-closed"
            viewBox="0 0 64 64"
            xmlns="http://www.w3.org/2000/svg"
            style="display:none;"
          >
            <ellipse cx="32" cy="32" rx="30" ry="20" />
            <path
              d="M20 20 L44 44 M44 20 L20 44"
              stroke-width="4"
              stroke-linecap="round"
            />
          </svg>
        </span>
        <div id="passwordError" class="error-message"></div>
      </div>

      <button type="submit" id="submitBtn">Continue</button>
    </form>

    <div class="link">
      Don't have an account?<a href="sigin.html">Sign up</a>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCNA6W5FGxeG8JVF76Ji6leGkiIzrG-mX8",
      authDomain: "boltai-76f27.firebaseapp.com",
      projectId: "boltai-76f27",
      storageBucket: "boltai-76f27.appspot.com",
      messagingSenderId: "1077115336489",
      appId: "1:1077115336489:web:170cd8dd1e9f7247ef6938",
      measurementId: "G-MND10EGJT4",
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);

    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const emailError = document.getElementById("emailError");
    const passwordError = document.getElementById("passwordError");
    const submitBtn = document.getElementById("submitBtn");

    // دالة لإزالة الأخطاء وإعادة تعيين الستايل
    function clearError(input, errorElement) {
      input.classList.remove("error");
      errorElement.textContent = "";
    }

    // دالة لإظهار الخطأ وتغيير الستايل
    function showError(input, errorElement, message) {
      input.classList.add("error");
      errorElement.textContent = message;
    }

    // التحقق من صحة البريد الإلكتروني
    function validateEmail(email) {
      if (!email || email.trim() === "") {
        return "البريد الإلكتروني مطلوب";
      }
      
      if (!email.endsWith("@gmail.com")) {
        return "لا يمكن التسجيل ببريد مؤقت";
      }
      
      return null;
    }

    // التحقق من صحة كلمة المرور
    function validatePassword(password) {
      if (!password || password.trim() === "") {
        return "كلمة المرور مطلوبة";
      }
      
      if (password.length < 8) {
        return "كلمة المرور يجب أن تكون 8 أحرف على الأقل";
      }
      
      return null;
    }

    // إضافة مستمعين لمسح الأخطاء عند الكتابة
    emailInput.addEventListener("input", () => {
      clearError(emailInput, emailError);
    });

    passwordInput.addEventListener("input", () => {
      clearError(passwordInput, passwordError);
    });

    // معالج إرسال النموذج
    document.getElementById("loginForm").addEventListener("submit", (e) => {
      e.preventDefault();
      
      // مسح الأخطاء السابقة
      clearError(emailInput, emailError);
      clearError(passwordInput, passwordError);

      const email = emailInput.value.trim();
      const password = passwordInput.value;
      let hasErrors = false;

      // التحقق من البريد الإلكتروني
      const emailValidationError = validateEmail(email);
      if (emailValidationError) {
        showError(emailInput, emailError, emailValidationError);
        hasErrors = true;
      }

      // التحقق من كلمة المرور
      const passwordValidationError = validatePassword(password);
      if (passwordValidationError) {
        showError(passwordInput, passwordError, passwordValidationError);
        hasErrors = true;
      }

      // إذا كان هناك أخطاء، لا تتابع الإرسال
      if (hasErrors) {
        return;
      }

      // إظهار حالة التحميل
      submitBtn.classList.add("loading");
      submitBtn.disabled = true;

      // محاولة تسجيل الدخول
      signInWithEmailAndPassword(auth, email, password)
        .then(() => {
          window.location.href = "home.html";
        })
        .catch((error) => {
          const code = error.code;

          // معالجة الأخطاء المختلفة
          if (code === "auth/user-not-found" || code === "auth/wrong-password" || code === "auth/invalid-credential") {
            showError(emailInput, emailError, "البريد الالكتروني او كلمة المرور خاطئة");
            showError(passwordInput, passwordError, "البريد الالكتروني او كلمة المرور خاطئة");
          } else if (code === "auth/invalid-email") {
            showError(emailInput, emailError, "صيغة البريد الإلكتروني غير صحيحة");
          } else if (code === "auth/user-disabled") {
            showError(emailInput, emailError, "تم تعطيل هذا الحساب");
          } else if (code === "auth/too-many-requests") {
            showError(emailInput, emailError, "تم تجاوز عدد المحاولات المسموحة، حاول لاحقاً");
          } else {
            showError(emailInput, emailError, "حدث خطأ، يرجى المحاولة مرة أخرى");
          }
        })
        .finally(() => {
          submitBtn.classList.remove("loading");
          submitBtn.disabled = false;
        });
    });

    // وظيفة إظهار/إخفاء كلمة المرور
    const togglePassword = document.getElementById("togglePassword");
    const eyeOpen = togglePassword.querySelector(".eye-open");
    const eyeClosed = togglePassword.querySelector(".eye-closed");

    togglePassword.addEventListener("click", () => {
      const isPassword = passwordInput.getAttribute("type") === "password";
      passwordInput.setAttribute("type", isPassword ? "text" : "password");

      if (isPassword) {
        eyeOpen.style.display = "none";
        eyeClosed.style.display = "block";
        togglePassword.classList.add("active");
      } else {
        eyeOpen.style.display = "block";
        eyeClosed.style.display = "none";
        togglePassword.classList.remove("active");
      }
    });

    // دعم لوحة المفاتيح لزر إظهار/إخفاء كلمة المرور
    togglePassword.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " " || e.key === "Spacebar") {
        e.preventDefault();
        togglePassword.click();
      }
    });

  </script>
</body>
</html>
























